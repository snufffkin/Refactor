# Добавление типов интерактивов в базу данных

## Описание проекта

Этот проект добавляет новую колонку `practice_type` в таблицу `cards_flat` базы данных PostgreSQL. Для карточек с типом `practice` данная колонка заполняется информацией о типах интерактивных элементов, которые содержатся в этих карточках.

## Результаты

1. Добавлена новая колонка `practice_type` в таблицу `cards_flat`
2. Проанализировано 13731 карточек с типом `practice`
3. Обновлено 13088 записей в таблице `cards_flat` (для некоторых карточек JSON-файлы не были найдены)
4. Создан файл `interactive_types_stats.json` со статистикой типов интерактивов

## Статистика типов интерактивов

Всего обнаружено 9 различных типов интерактивов:

- inline: 7558
- choice: 4031
- dragimage: 2240
- chooseimage: 811
- macaroni: 518
- coloring: 154
- polylines: 91
- highlight: 14
- diskurl: 3

## Работа с данными

Скрипт `add_practice_type.py` выполняет следующие операции:

1. Подключается к базе данных PostgreSQL
2. Добавляет новую колонку `practice_type` в таблицу `cards_flat`, если она не существует
3. Находит все карточки с типом `practice`
4. Для каждой карточки ищет соответствующий JSON-файл в директории `card_structures`
5. Извлекает информацию о типах интерактивов из JSON-файлов
6. Обновляет значения в колонке `practice_type` для каждой карточки
7. Собирает статистику по типам интерактивов

## Пример данных

Пример записей из таблицы после обновления:

```
[(254017, 'practice', 'chooseimage'), 
 (254085, 'practice', 'inline,inline'), 
 (254086, 'practice', 'inline,inline'), 
 (254087, 'practice', 'inline,inline'), 
 (254088, 'practice', 'inline,inline')]
```

## Требования

- Python 3.6+
- psycopg2-binary
- Доступ к базе данных PostgreSQL 